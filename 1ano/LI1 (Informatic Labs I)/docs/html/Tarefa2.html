<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Tarefa2</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption empty">&nbsp;</p></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>(c) Claudio Bessa 2020<br />Ana Pires 2020</td></tr><tr><th>License</th><td>GPL-3</td></tr><tr><th>Safe Haskell</th><td>None</td></tr></table><p class="caption">Tarefa2</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">All players or pacman management</a></li><li><a href="#g:2">Ghosts management</a></li><li><a href="#g:3">Final Functions</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><h1>INTRODUCTION</h1><p>In this task we wanted to set the function <em>Play</em>, where given the current state of the game and a movement made by a player, 
it determines the subsequent state of the game. Of all the tasks in the first part of the project, this was undoubtedly the most
challenging. </p><h1>STRATEGY</h1><p>Here, we had to consider several variants: the <em>Players</em> (that can be <em>Ghost's</em> or a <em>Pacman's</em>), their states (in other words,
their identification, coordinates, velocity, orientation, points and number of remaining lifes) and the actions (for example,
if the <em>Player</em> is a <em>Pacman</em> and there's a small consumable next to him, it should move for that position, eat the food and win one 
more point). In this task, we had to define each subject and it's sub-divisions precisely so that we could evaluate each move's 
possibilities. However, in this module We only set the <em>Plays</em> for the <em>Pacman</em>, as requested by the teaching team. </p><h1>CONCLUSION</h1><p>This task was one of the most crucial ones, since it was this step that allowed us to start reaching the end result. We
were successful in thinking and getting all the cases for a <em>Play</em>. Although we are happy with the results, we believe that our
code could be cleaner and simplified.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:idplayer">idplayer</a> :: Int -&gt; [<a href="TypesandDatas.html#t:Player" title="TypesandDatas">Player</a>] -&gt; <a href="TypesandDatas.html#t:Player" title="TypesandDatas">Player</a></li><li class="src short"><a href="#v:absorvePiece">absorvePiece</a> :: <a href="TypesandDatas.html#t:Maze" title="TypesandDatas">Maze</a> -&gt; <a href="TypesandDatas.html#t:Coords" title="TypesandDatas">Coords</a> -&gt; <a href="TypesandDatas.html#t:Maze" title="TypesandDatas">Maze</a></li><li class="src short"><a href="#v:nextPiece">nextPiece</a> :: <a href="TypesandDatas.html#t:Maze" title="TypesandDatas">Maze</a> -&gt; <a href="TypesandDatas.html#t:Coords" title="TypesandDatas">Coords</a> -&gt; <a href="TypesandDatas.html#t:Orientation" title="TypesandDatas">Orientation</a> -&gt; <a href="TypesandDatas.html#t:Piece" title="TypesandDatas">Piece</a></li><li class="src short"><a href="#v:pieceNext">pieceNext</a> :: <a href="TypesandDatas.html#t:Maze" title="TypesandDatas">Maze</a> -&gt; <a href="TypesandDatas.html#t:Coords" title="TypesandDatas">Coords</a> -&gt; <a href="TypesandDatas.html#t:Orientation" title="TypesandDatas">Orientation</a> -&gt; Bool</li><li class="src short"><a href="#v:spookyscary">spookyscary</a> :: [<a href="TypesandDatas.html#t:Player" title="TypesandDatas">Player</a>] -&gt; <a href="TypesandDatas.html#t:Coords" title="TypesandDatas">Coords</a> -&gt; Bool</li><li class="src short"><a href="#v:checkghost">checkghost</a> :: <a href="TypesandDatas.html#t:Player" title="TypesandDatas">Player</a> -&gt; <a href="TypesandDatas.html#t:GhostMode" title="TypesandDatas">GhostMode</a></li><li class="src short"><a href="#v:chooseGhost">chooseGhost</a> :: [<a href="TypesandDatas.html#t:Player" title="TypesandDatas">Player</a>] -&gt; <a href="TypesandDatas.html#t:Coords" title="TypesandDatas">Coords</a> -&gt; <a href="TypesandDatas.html#t:Player" title="TypesandDatas">Player</a></li><li class="src short"><a href="#v:newplayer">newplayer</a> :: <a href="TypesandDatas.html#t:Player" title="TypesandDatas">Player</a> -&gt; <a href="TypesandDatas.html#t:Orientation" title="TypesandDatas">Orientation</a> -&gt; <a href="TypesandDatas.html#t:Player" title="TypesandDatas">Player</a></li><li class="src short"><a href="#v:subPlayer">subPlayer</a> :: <a href="TypesandDatas.html#t:Player" title="TypesandDatas">Player</a> -&gt; [<a href="TypesandDatas.html#t:Player" title="TypesandDatas">Player</a>] -&gt; [<a href="TypesandDatas.html#t:Player" title="TypesandDatas">Player</a>]</li><li class="src short"><a href="#v:coordstunnel">coordstunnel</a> :: <a href="TypesandDatas.html#t:Coords" title="TypesandDatas">Coords</a> -&gt; <a href="TypesandDatas.html#t:Maze" title="TypesandDatas">Maze</a> -&gt; <a href="TypesandDatas.html#t:Coords" title="TypesandDatas">Coords</a></li><li class="src short"><a href="#v:auxo">auxo</a> :: <a href="TypesandDatas.html#t:Orientation" title="TypesandDatas">Orientation</a> -&gt; <a href="TypesandDatas.html#t:Coords" title="TypesandDatas">Coords</a> -&gt; <a href="TypesandDatas.html#t:Coords" title="TypesandDatas">Coords</a></li><li class="src short"><a href="#v:addscore">addscore</a> :: Int -&gt; <a href="TypesandDatas.html#t:Player" title="TypesandDatas">Player</a> -&gt; <a href="TypesandDatas.html#t:Player" title="TypesandDatas">Player</a></li><li class="src short"><a href="#v:turnsmega">turnsmega</a> :: <a href="TypesandDatas.html#t:Player" title="TypesandDatas">Player</a> -&gt; <a href="TypesandDatas.html#t:Player" title="TypesandDatas">Player</a></li><li class="src short"><a href="#v:lives">lives</a> :: <a href="TypesandDatas.html#t:Player" title="TypesandDatas">Player</a> -&gt; <a href="TypesandDatas.html#t:Player" title="TypesandDatas">Player</a></li><li class="src short"><a href="#v:liv">liv</a> :: [<a href="TypesandDatas.html#t:Player" title="TypesandDatas">Player</a>] -&gt; [<a href="TypesandDatas.html#t:Player" title="TypesandDatas">Player</a>]</li><li class="src short"><a href="#v:changeGhostOrientation">changeGhostOrientation</a> :: <a href="TypesandDatas.html#t:PlayerState" title="TypesandDatas">PlayerState</a> -&gt; <a href="TypesandDatas.html#t:PlayerState" title="TypesandDatas">PlayerState</a></li><li class="src short"><a href="#v:allghostsdead">allghostsdead</a> :: [<a href="TypesandDatas.html#t:Player" title="TypesandDatas">Player</a>] -&gt; [<a href="TypesandDatas.html#t:Player" title="TypesandDatas">Player</a>]</li><li class="src short"><a href="#v:allghostsalive">allghostsalive</a> :: [<a href="TypesandDatas.html#t:Player" title="TypesandDatas">Player</a>] -&gt; [<a href="TypesandDatas.html#t:Player" title="TypesandDatas">Player</a>]</li><li class="src short"><a href="#v:aliveghost">aliveghost</a> :: <a href="TypesandDatas.html#t:Player" title="TypesandDatas">Player</a> -&gt; <a href="TypesandDatas.html#t:Player" title="TypesandDatas">Player</a></li><li class="src short"><a href="#v:pacmanNormal">pacmanNormal</a> :: <a href="TypesandDatas.html#t:Player" title="TypesandDatas">Player</a> -&gt; <a href="TypesandDatas.html#t:Player" title="TypesandDatas">Player</a></li><li class="src short"><a href="#v:turnsNormal">turnsNormal</a> :: Int -&gt; [<a href="TypesandDatas.html#t:Player" title="TypesandDatas">Player</a>] -&gt; [<a href="TypesandDatas.html#t:Player" title="TypesandDatas">Player</a>]</li><li class="src short"><a href="#v:validPlay">validPlay</a> :: <a href="TypesandDatas.html#t:Play" title="TypesandDatas">Play</a> -&gt; <a href="TypesandDatas.html#t:State" title="TypesandDatas">State</a> -&gt; <a href="TypesandDatas.html#t:State" title="TypesandDatas">State</a></li><li class="src short"><a href="#v:play">play</a> :: <a href="TypesandDatas.html#t:Play" title="TypesandDatas">Play</a> -&gt; <a href="TypesandDatas.html#t:State" title="TypesandDatas">State</a> -&gt; <a href="TypesandDatas.html#t:State" title="TypesandDatas">State</a></li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h2>All players or pacman management</h2></a><div class="top"><p class="src"><a id="v:idplayer" class="def">idplayer</a> :: Int -&gt; [<a href="TypesandDatas.html#t:Player" title="TypesandDatas">Player</a>] -&gt; <a href="TypesandDatas.html#t:Player" title="TypesandDatas">Player</a> <a href="#v:idplayer" class="selflink">#</a></p><div class="doc"><p>Creates the identification (id) of a <em>Player</em></p></div></div><div class="top"><p class="src"><a id="v:absorvePiece" class="def">absorvePiece</a> :: <a href="TypesandDatas.html#t:Maze" title="TypesandDatas">Maze</a> -&gt; <a href="TypesandDatas.html#t:Coords" title="TypesandDatas">Coords</a> -&gt; <a href="TypesandDatas.html#t:Maze" title="TypesandDatas">Maze</a> <a href="#v:absorvePiece" class="selflink">#</a></p><div class="doc"><p>Do the <em>Pacman's</em> path</p></div></div><div class="top"><p class="src"><a id="v:nextPiece" class="def">nextPiece</a> :: <a href="TypesandDatas.html#t:Maze" title="TypesandDatas">Maze</a> -&gt; <a href="TypesandDatas.html#t:Coords" title="TypesandDatas">Coords</a> -&gt; <a href="TypesandDatas.html#t:Orientation" title="TypesandDatas">Orientation</a> -&gt; <a href="TypesandDatas.html#t:Piece" title="TypesandDatas">Piece</a> <a href="#v:nextPiece" class="selflink">#</a></p><div class="doc"><p>Returns the piece before some coords</p></div></div><div class="top"><p class="src"><a id="v:pieceNext" class="def">pieceNext</a> :: <a href="TypesandDatas.html#t:Maze" title="TypesandDatas">Maze</a> -&gt; <a href="TypesandDatas.html#t:Coords" title="TypesandDatas">Coords</a> -&gt; <a href="TypesandDatas.html#t:Orientation" title="TypesandDatas">Orientation</a> -&gt; Bool <a href="#v:pieceNext" class="selflink">#</a></p><div class="doc"><p>Checks if there's a piece next</p></div></div><div class="top"><p class="src"><a id="v:spookyscary" class="def">spookyscary</a> :: [<a href="TypesandDatas.html#t:Player" title="TypesandDatas">Player</a>] -&gt; <a href="TypesandDatas.html#t:Coords" title="TypesandDatas">Coords</a> -&gt; Bool <a href="#v:spookyscary" class="selflink">#</a></p><div class="doc"><p>Verify if there is a ghost in certain coords</p></div></div><div class="top"><p class="src"><a id="v:checkghost" class="def">checkghost</a> :: <a href="TypesandDatas.html#t:Player" title="TypesandDatas">Player</a> -&gt; <a href="TypesandDatas.html#t:GhostMode" title="TypesandDatas">GhostMode</a> <a href="#v:checkghost" class="selflink">#</a></p><div class="doc"><p>See if a Ghost is dead or alive</p></div></div><div class="top"><p class="src"><a id="v:chooseGhost" class="def">chooseGhost</a> :: [<a href="TypesandDatas.html#t:Player" title="TypesandDatas">Player</a>] -&gt; <a href="TypesandDatas.html#t:Coords" title="TypesandDatas">Coords</a> -&gt; <a href="TypesandDatas.html#t:Player" title="TypesandDatas">Player</a> <a href="#v:chooseGhost" class="selflink">#</a></p><div class="doc"><p>Select the ghost from the list of <em>Players</em></p></div></div><div class="top"><p class="src"><a id="v:newplayer" class="def">newplayer</a> :: <a href="TypesandDatas.html#t:Player" title="TypesandDatas">Player</a> -&gt; <a href="TypesandDatas.html#t:Orientation" title="TypesandDatas">Orientation</a> -&gt; <a href="TypesandDatas.html#t:Player" title="TypesandDatas">Player</a> <a href="#v:newplayer" class="selflink">#</a></p><div class="doc"><p>Adds a new <em>Player</em> into the <em>Maze</em> in certain orientation</p></div></div><div class="top"><p class="src"><a id="v:subPlayer" class="def">subPlayer</a> :: <a href="TypesandDatas.html#t:Player" title="TypesandDatas">Player</a> -&gt; [<a href="TypesandDatas.html#t:Player" title="TypesandDatas">Player</a>] -&gt; [<a href="TypesandDatas.html#t:Player" title="TypesandDatas">Player</a>] <a href="#v:subPlayer" class="selflink">#</a></p><div class="doc"><p>Substitues <em>Players</em></p></div></div><div class="top"><p class="src"><a id="v:coordstunnel" class="def">coordstunnel</a> :: <a href="TypesandDatas.html#t:Coords" title="TypesandDatas">Coords</a> -&gt; <a href="TypesandDatas.html#t:Maze" title="TypesandDatas">Maze</a> -&gt; <a href="TypesandDatas.html#t:Coords" title="TypesandDatas">Coords</a> <a href="#v:coordstunnel" class="selflink">#</a></p><div class="doc"><p>Pass through the empty tunel to the other side of the <em>Maze</em></p></div></div><div class="top"><p class="src"><a id="v:auxo" class="def">auxo</a> :: <a href="TypesandDatas.html#t:Orientation" title="TypesandDatas">Orientation</a> -&gt; <a href="TypesandDatas.html#t:Coords" title="TypesandDatas">Coords</a> -&gt; <a href="TypesandDatas.html#t:Coords" title="TypesandDatas">Coords</a> <a href="#v:auxo" class="selflink">#</a></p><div class="doc"><p>Transform the coords with an eye on the orientation</p></div></div><div class="top"><p class="src"><a id="v:addscore" class="def">addscore</a> :: Int -&gt; <a href="TypesandDatas.html#t:Player" title="TypesandDatas">Player</a> -&gt; <a href="TypesandDatas.html#t:Player" title="TypesandDatas">Player</a> <a href="#v:addscore" class="selflink">#</a></p><div class="doc"><p>Add integers into score of <em>Players</em></p></div></div><div class="top"><p class="src"><a id="v:turnsmega" class="def">turnsmega</a> :: <a href="TypesandDatas.html#t:Player" title="TypesandDatas">Player</a> -&gt; <a href="TypesandDatas.html#t:Player" title="TypesandDatas">Player</a> <a href="#v:turnsmega" class="selflink">#</a></p><div class="doc"><p>Turns into mega</p></div></div><div class="top"><p class="src"><a id="v:lives" class="def">lives</a> :: <a href="TypesandDatas.html#t:Player" title="TypesandDatas">Player</a> -&gt; <a href="TypesandDatas.html#t:Player" title="TypesandDatas">Player</a> <a href="#v:lives" class="selflink">#</a></p><div class="doc"><p>Takes lives from <em>Players</em>, when 0 equals Dying</p></div></div><div class="top"><p class="src"><a id="v:liv" class="def">liv</a> :: [<a href="TypesandDatas.html#t:Player" title="TypesandDatas">Player</a>] -&gt; [<a href="TypesandDatas.html#t:Player" title="TypesandDatas">Player</a>] <a href="#v:liv" class="selflink">#</a></p><div class="doc"><p>Takes lives from <em>Pacman's</em>, when hitting <em>Ghost's</em></p></div></div><a href="#g:2" id="g:2"><h2>Ghosts management</h2></a><div class="top"><p class="src"><a id="v:changeGhostOrientation" class="def">changeGhostOrientation</a> :: <a href="TypesandDatas.html#t:PlayerState" title="TypesandDatas">PlayerState</a> -&gt; <a href="TypesandDatas.html#t:PlayerState" title="TypesandDatas">PlayerState</a> <a href="#v:changeGhostOrientation" class="selflink">#</a></p><div class="doc"><p>Changes <em>Ghost's</em> orientation when they're death</p></div></div><div class="top"><p class="src"><a id="v:allghostsdead" class="def">allghostsdead</a> :: [<a href="TypesandDatas.html#t:Player" title="TypesandDatas">Player</a>] -&gt; [<a href="TypesandDatas.html#t:Player" title="TypesandDatas">Player</a>] <a href="#v:allghostsdead" class="selflink">#</a></p><div class="doc"><p>Turns all ghosts to dead</p></div></div><div class="top"><p class="src"><a id="v:allghostsalive" class="def">allghostsalive</a> :: [<a href="TypesandDatas.html#t:Player" title="TypesandDatas">Player</a>] -&gt; [<a href="TypesandDatas.html#t:Player" title="TypesandDatas">Player</a>] <a href="#v:allghostsalive" class="selflink">#</a></p><div class="doc"><p>Turns all ghosts to alive</p></div></div><div class="top"><p class="src"><a id="v:aliveghost" class="def">aliveghost</a> :: <a href="TypesandDatas.html#t:Player" title="TypesandDatas">Player</a> -&gt; <a href="TypesandDatas.html#t:Player" title="TypesandDatas">Player</a> <a href="#v:aliveghost" class="selflink">#</a></p><div class="doc"><p>Changes the state of a ghost to alive</p></div></div><div class="top"><p class="src"><a id="v:pacmanNormal" class="def">pacmanNormal</a> :: <a href="TypesandDatas.html#t:Player" title="TypesandDatas">Player</a> -&gt; <a href="TypesandDatas.html#t:Player" title="TypesandDatas">Player</a> <a href="#v:pacmanNormal" class="selflink">#</a></p><div class="doc"><p>Auxiliar of turnsNormal</p></div></div><div class="top"><p class="src"><a id="v:turnsNormal" class="def">turnsNormal</a> :: Int -&gt; [<a href="TypesandDatas.html#t:Player" title="TypesandDatas">Player</a>] -&gt; [<a href="TypesandDatas.html#t:Player" title="TypesandDatas">Player</a>] <a href="#v:turnsNormal" class="selflink">#</a></p><div class="doc"><p>Turn <em>Pacman</em> into <em>Normal</em> again</p></div></div><a href="#g:3" id="g:3"><h2>Final Functions</h2></a><div class="top"><p class="src"><a id="v:validPlay" class="def">validPlay</a> :: <a href="TypesandDatas.html#t:Play" title="TypesandDatas">Play</a> -&gt; <a href="TypesandDatas.html#t:State" title="TypesandDatas">State</a> -&gt; <a href="TypesandDatas.html#t:State" title="TypesandDatas">State</a> <a href="#v:validPlay" class="selflink">#</a></p><div class="doc"><p>Do a <em>Play</em> if it's valid</p></div></div><div class="top"><p class="src"><a id="v:play" class="def">play</a> :: <a href="TypesandDatas.html#t:Play" title="TypesandDatas">Play</a> -&gt; <a href="TypesandDatas.html#t:State" title="TypesandDatas">State</a> -&gt; <a href="TypesandDatas.html#t:State" title="TypesandDatas">State</a> <a href="#v:play" class="selflink">#</a></p><div class="doc"><p>Do all the <em>Plays</em> with all conditions</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.22.0</p></div></body></html>