@using System.Globalization;

    <div class="feira">
        <a href=@referencia>
            <div class="feira-top" style="background-image: linear-gradient(120deg, #00AFF0 0%, rgba(217, 217, 217, 0) 60%), url(@imagem);">
                <div class="txt-white">
                    <a class="wheight600 txt-mid2">@titulo</a>
                </div>
             </div>
         </a>

        <div class="feira-bottom">
            
            <div class="align-h">
                <div class="align-v">
                <a href=@referencia  class="tipo">Feira @tipo</a>
                <a href=@referencia class="data">@ExibirMes(data)</a>
                </div>
                    <button class="icon" @onclick="MudarEstadoFeiravorito"><img src="@icon_feiravorito" alt="Feiravoritos" height="25"></button>
                </div>
            </div>
    </div>


    @code {
        [Parameter]
        public string referencia { get; set; } = "/feira";

        [Parameter]
        public string imagem { get; set; } = "assets/estofos.jpg";

        [Parameter]
        public string titulo { get; set; } = "Título Feira";

        [Parameter]
        public DateTime data { get; set; }

        [Parameter]
        public string tipo { get; set; } = "Tipo de feira";

        [Parameter]
        public bool feiravorito { get; set; } = false;

        private string icon_feiravorito {get;set;} = "assets/fav.svg";

        private void MudarEstadoFeiravorito()
        {
            feiravorito = !feiravorito;
            if (feiravorito) { icon_feiravorito = "assets/faved.svg"; }
            else { icon_feiravorito = "assets/fav.svg"; }
        }

        public static string ExibirMes(DateTime data)
        {
            return data.ToString("dd 'de' MMMM", CultureInfo.CreateSpecificCulture("pt-pt"));
        }
    }
